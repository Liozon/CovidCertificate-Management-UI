<form [formGroup]="recoveryForm" #formDirective="ngForm" (submit)="goNext()" obParentFormDirective>
	<ec-personal-data #recoveryPersonalDataComponent></ec-personal-data>
	<fieldset class="form-group">
		<legend class="padding-top">{{ "certificateCreate.step-one.enum.recovery" | translate }}</legend>

		<div class="form-field">
			<ob-nested-form
				formControlName="dateFirstPositiveTestResult"
				[nestedForm]="datepickerTestResult.form"
				obErrorMessages
			>
				<ec-datetimepicker
					#datepickerTestResult
					[label]="'certificateCreate.form.label.recovery.dateFirstPositiveTestResult' | translate"
					[showTime]="false"
					required
					[errors]="recoveryForm.get('dateFirstPositiveTestResult').errors"
					id="dateOfVaccination"
				>
				</ec-datetimepicker>
			</ob-nested-form>
			<mat-form-field class="mat-form-field-lg" obErrorMessages>
				<mat-label>{{ "certificateCreate.form.label.recovery.countryOfTest" | translate }}</mat-label>
				<mat-select formControlName="countryOfTest" id="countryOfTest">
					<mat-option *ngFor="let option of getCountriesOfRecovery()" [value]="option">
						{{ option.display }}
					</mat-option>
				</mat-select>
				<mat-error></mat-error>
			</mat-form-field>
		</div>
		<div class="form-field">
			<mat-radio-group
				formControlName="confirmation"
				id="confirmationType"
				name="confirmationType"
				aria-label="Select an option"
				class="radio-button-container confirmation-container"
			>
				<mat-radio-button
					id="confirmationType-nonRetroactive"
					value="nonRetroactive"
					name="nonRetroactive"
					class="radio-button confirmation-radio"
					[checked]="true"
				>
					<span
						[innerHTML]="'certificateCreate.form.label.radio.nonRetroactive' | translate"
						class="label-container"
					></span>
				</mat-radio-button>
				<mat-radio-button
					id="confirmationType-retroactive"
					value="retroactive"
					name="retroactive"
					class="radio-button confirmation-radio"
				>
					<span
						[innerHTML]="'certificateCreate.form.label.radio.retroactive' | translate"
						class="label-container"
					></span>
				</mat-radio-button>
			</mat-radio-group>
		</div>
	</fieldset>

	<div class="stepper-footer">
		<section class="stepper-footer-content">
			<button id="cert-create-back" type="button" (click)="goBack()" mat-button obButton="secondary">
				{{ "common.back" | translate }}
			</button>
			<button id="cert-create-next" mat-button obButton="primary" class="right">
				{{ "common.next" | translate }}
			</button>
		</section>
	</div>
</form>
